!function(e,t){"use strict";function n(n,o){function i(e){return ct.preferFlash&&rt&&!ct.ignoreFlash&&ct.flash[e]!==t&&ct.flash[e]}function a(e){return function(t){var n,o=this._s;return o&&o._a?n=e.call(this,t):(o&&o.id?ct._wD(o.id+": Ignoring "+t.type):ct._wD(yt+"Ignoring "+t.type),n=null),n}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20130101",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var s,r,l,u,d,f,h,c,p,m,_,g,y,w,v,b,O,D,M,L,P,T,S,F,I,H,A,E,k,C,R,N,x,U,B,W,j,q,V,Q,$,K,J,X,z,G,Y,Z,et,tt,nt,ot,it,at,st,rt,lt,ut,dt,ft,ht,ct=this,pt=null,mt=null,_t="soundManager",gt=_t+": ",yt="HTML5::",wt=navigator.userAgent,vt=e.location.href.toString(),bt=document,Ot=[],Dt=!0,Mt=!1,Lt=!1,Pt=!1,Tt=!1,St=!1,Ft=0,It=["log","info","warn","error"],Ht=8,At=null,Et=null,kt=!1,Ct=!1,Rt=0,Nt=null,xt=[],Ut=null,Bt=Array.prototype.slice,Wt=!1,jt=wt.match(/(ipad|iphone|ipod)/i),qt=wt.match(/android/i),Vt=wt.match(/msie/i),Qt=wt.match(/webkit/i),$t=wt.match(/safari/i)&&!wt.match(/chrome/i),Kt=wt.match(/opera/i),Jt=wt.match(/(mobile|pre\/|xoom)/i)||jt||qt,Xt=!vt.match(/usehtml5audio/i)&&!vt.match(/sm2\-ignorebadua/i)&&$t&&!wt.match(/silk/i)&&wt.match(/OS X 10_6_([3-7])/i),zt=e.console!==t&&console.log!==t,Gt=bt.hasFocus!==t?bt.hasFocus():null,Yt=$t&&(bt.hasFocus===t||!bt.hasFocus()),Zt=!Yt,en=/(mp3|mp4|mpa|m4a|m4b)/i,tn="about:blank",nn=bt.location?bt.location.protocol.match(/http/i):null,on=nn?"":"http://",an=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,sn=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],rn=new RegExp("\\.("+sn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!nn,j={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==t&&(Kt&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var n=!ct.url;return e!==t&&Pt&&Ut&&ct.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&$(U("setupLate")),_(e),n&&I&&e.url!==t&&ct.beginDelayedInit(),I||e.url===t||"complete"!==bt.readyState||setTimeout(S,1),ct},this.ok=function(){return Ut?Pt&&!Tt:ct.useHTML5Audio&&ct.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return r(t)||bt[t]||e[t]},this.createSound=function(e,n){function o(){return r=V(r),ct.sounds[r.id]=new s(r),ct.soundIDs.push(r.id),ct.sounds[r.id]}var i,a,r,l=null;return i=_t+".createSound(): ",a=i+U(Pt?"notOK":"notReady"),Pt&&ct.ok()?(n!==t&&(e={id:e,url:n}),r=m(e),r.url=G(r.url),r.id.toString().charAt(0).match(/^[0-9]$/)&&ct._wD(i+U("badID",r.id),2),ct._wD(i+r.id+" ("+r.url+")",1),K(r.id,!0)?(ct._wD(i+r.id+" exists",1),ct.sounds[r.id]):(Z(r)?(l=o(),ct._wD(r.id+": Using HTML5"),l._setup_html5(r)):(f>8&&(null===r.isMovieStar&&(r.isMovieStar=!(!r.serverURL&&(r.type?!r.type.match(an):1)&&!r.url.match(rn))),r.isMovieStar&&(ct._wD(i+"using MovieStar handling"),r.loops>1&&c("noNSLoop"))),r=Q(r,i),l=o(),8===f?mt._createSound(r.id,r.loops||1,r.usePolicyFile):(mt._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(l.connected=!0,r.onconnect&&r.onconnect.apply(l))),r.serverURL||!r.autoLoad&&!r.autoPlay||l.load(r)),!r.serverURL&&r.autoPlay&&l.play(),l)):($(a),!1)},this.destroySound=function(e,t){if(!K(e))return!1;var n,o=ct.sounds[e];for(o._iO={},o.stop(),o.unload(),n=0;n<ct.soundIDs.length;n++)if(ct.soundIDs[n]===e){ct.soundIDs.splice(n,1);break}return t||o.destruct(!0),o=null,delete ct.sounds[e],!0},this.load=function(e,t){return K(e)?ct.sounds[e].load(t):!1},this.unload=function(e){return K(e)?ct.sounds[e].unload():!1},this.onPosition=function(e,t,n,o){return K(e)?ct.sounds[e].onposition(t,n,o):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return K(e)?ct.sounds[e].clearOnPosition(t,n):!1},this.play=function(e,t){var n=!1;return Pt&&ct.ok()?K(e)?ct.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url&&(ct._wD(_t+'.play(): attempting to create "'+e+'"',1),t.id=e,n=ct.createSound(t).play()),n):($(_t+".play(): "+U(Pt?"notOK":"notReady")),n)},this.start=this.play,this.setPosition=function(e,t){return K(e)?ct.sounds[e].setPosition(t):!1},this.stop=function(e){return K(e)?(ct._wD(_t+".stop("+e+")",1),ct.sounds[e].stop()):!1},this.stopAll=function(){var e;ct._wD(_t+".stopAll()",1);for(e in ct.sounds)ct.sounds.hasOwnProperty(e)&&ct.sounds[e].stop()},this.pause=function(e){return K(e)?ct.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=ct.soundIDs.length-1;e>=0;e--)ct.sounds[ct.soundIDs[e]].pause()},this.resume=function(e){return K(e)?ct.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=ct.soundIDs.length-1;e>=0;e--)ct.sounds[ct.soundIDs[e]].resume()},this.togglePause=function(e){return K(e)?ct.sounds[e].togglePause():!1},this.setPan=function(e,t){return K(e)?ct.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return K(e)?ct.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return K(e)?(ct._wD(_t+'.mute(): Muting "'+e+'"'),ct.sounds[e].mute()):!1;for(ct._wD(_t+".mute(): Muting all sounds"),t=ct.soundIDs.length-1;t>=0;t--)ct.sounds[ct.soundIDs[t]].mute();return ct.muted=!0,!0},this.muteAll=function(){ct.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return K(e)?(ct._wD(_t+'.unmute(): Unmuting "'+e+'"'),ct.sounds[e].unmute()):!1;for(ct._wD(_t+".unmute(): Unmuting all sounds"),t=ct.soundIDs.length-1;t>=0;t--)ct.sounds[ct.soundIDs[t]].unmute();return ct.muted=!1,!0},this.unmuteAll=function(){ct.unmute()},this.toggleMute=function(e){return K(e)?ct.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return mt&&8!==f&&(e=parseInt(mt._getMemoryUse(),10)),e},this.disable=function(n){var o;if(n===t&&(n=!1),Tt)return!1;for(Tt=!0,c("shutdown",1),o=ct.soundIDs.length-1;o>=0;o--)R(ct.sounds[ct.soundIDs[o]]);return p(n),at.remove(e,"load",v),!0},this.canPlayMIME=function(e){var t;return ct.hasHTML5&&(t=et({type:e})),!t&&Ut&&(t=e&&ct.ok()?!!((f>8?e.match(an):null)||e.match(ct.mimePattern)):null),t},this.canPlayURL=function(e){var t;return ct.hasHTML5&&(t=et({url:e})),!t&&Ut&&(t=e&&ct.ok()?!!e.match(ct.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&ct.canPlayMIME(e.type)?!0:ct.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw new Error(_t+".getSoundById(): sID is null/_undefined");var n=ct.sounds[e];return n||t||ct._wD('"'+e+'" is an invalid sound ID.',2),n},this.onready=function(t,n){var o="onready",i=!1;if("function"!=typeof t)throw U("needFunction",o);return Pt&&ct._wD(U("queue",o)),n||(n=e),y(o,t,n),w(),i=!0,i},this.ontimeout=function(t,n){var o="ontimeout",i=!1;if("function"!=typeof t)throw U("needFunction",o);return Pt&&ct._wD(U("queue",o)),n||(n=e),y(o,t,n),w({type:o}),i=!0,i},this._writeDebug=function(e,n){var o,i,a="soundmanager-debug";return ct.debugMode?zt&&ct.useConsole&&(n&&"object"==typeof n?console.log(e,n):It[n]!==t?console[It[n]](e):console.log(e),ct.consoleOnly)?!0:(o=r(a))?(i=bt.createElement("div"),0===++Ft%2&&(i.className="sm2-alt"),n=n===t?0:parseInt(n,10),i.appendChild(bt.createTextNode(e)),n&&(n>=2&&(i.style.fontWeight="bold"),3===n&&(i.style.color="#ff3333")),o.insertBefore(i,o.firstChild),o=null,!0):!1:!1},-1!==vt.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(c("currentObj",1),e=0,t=ct.soundIDs.length;t>e;e++)ct.sounds[ct.soundIDs[e]]._debug()},this.reboot=function(t,n){ct.soundIDs.length&&ct._wD("Destroying "+ct.soundIDs.length+" SMSound objects...");var o,i,a;for(o=ct.soundIDs.length-1;o>=0;o--)ct.sounds[ct.soundIDs[o]].destruct();if(mt)try{Vt&&(Et=mt.innerHTML),At=mt.parentNode.removeChild(mt),c("flRemoved")}catch(s){c("badRemove",2)}if(Et=At=Ut=mt=null,ct.enabled=I=Pt=kt=Ct=Mt=Lt=Tt=Wt=ct.swfLoaded=!1,ct.soundIDs=[],ct.sounds={},t)Ot=[];else for(o in Ot)if(Ot.hasOwnProperty(o))for(i=0,a=Ot[o].length;a>i;i++)Ot[o][i].fired=!1;return n||ct._wD(_t+": Rebooting..."),ct.html5={usingFlash:null},ct.flash={},ct.html5Only=!1,ct.ignoreFlash=!1,e.setTimeout(function(){T(),n||ct.beginDelayedInit()},20),ct},this.reset=function(){return c("reset"),ct.reboot(!0,!0)},this.getMoviePercent=function(){return mt&&"PercentLoaded"in mt?mt.PercentLoaded():null},this.beginDelayedInit=function(){St=!0,S(),setTimeout(function(){return Ct?!1:(A(),P(),Ct=!0,!0)},20),b()},this.destruct=function(){ct._wD(_t+".destruct()"),ct.disable(!0)},s=function(e){var n,o,i,a,s,r,l,u,d,p=this,_=!1,g=[],y=0,w=null;d={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=m(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){ct._wD(p.id+": Merged options:",p.options)},this.load=function(e){var n,o=null;if(e!==t?p._iO=m(e,p.options):(e=p.options,p._iO=e,w&&w!==p.url&&(c("manURL"),p._iO.url=p.url,p.url=null)),p._iO.url||(p._iO.url=p.url),p._iO.url=G(p._iO.url),p.instanceOptions=p._iO,n=p._iO,ct._wD(p.id+": load ("+n.url+")"),n.url===p.url&&0!==p.readyState&&2!==p.readyState)return c("onURL",1),3===p.readyState&&n.onload&&n.onload.apply(p,[!!p.duration]),p;if(p.loaded=!1,p.readyState=1,p.playState=0,p.id3={},Z(n))o=p._setup_html5(n),o._called_load?ct._wD(p.id+": Ignoring request to load again"):(p._html5_canplay=!1,p.url!==n.url&&(ct._wD(c("manURL")+": "+n.url),p._a.src=n.url,p.setPosition(0)),p._a.autobuffer="auto",p._a.preload="auto",p._a._called_load=!0,n.autoPlay&&p.play());else try{p.isHTML5=!1,p._iO=Q(V(n)),n=p._iO,8===f?mt._load(p.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):mt._load(p.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(i){c("smError",2),h("onload",!1),E({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return p.url=n.url,p},this.unload=function(){return 0!==p.readyState&&(ct._wD(p.id+": unload()"),p.isHTML5?(a(),p._a&&(p._a.pause(),nt(p._a,tn),w=tn)):8===f?mt._unload(p.id,tn):mt._unload(p.id),n()),p},this.destruct=function(e){ct._wD(p.id+": Destruct"),p.isHTML5?(a(),p._a&&(p._a.pause(),nt(p._a),Wt||i(),p._a._s=null,p._a=null)):(p._iO.onfailure=null,mt._destroySound(p.id)),e||ct.destroySound(p.id,!0)},this.play=function(e,n){var o,i,a,l,d=!0,h=null;if(o=p.id+": play(): ",n=n===t?!0:n,e||(e={}),p.url&&(p._iO.url=p.url),p._iO=m(p._iO,p.options),p._iO=m(e,p._iO),p._iO.url=G(p._iO.url),p.instanceOptions=p._iO,p._iO.serverURL&&!p.connected)return p.getAutoPlay()||(ct._wD(o+" Netstream not connected yet - setting autoPlay"),p.setAutoPlay(!0)),p;if(Z(p._iO)&&(p._setup_html5(p._iO),s()),1!==p.playState||p.paused||(i=p._iO.multiShot,i?ct._wD(o+"Already playing (multi-shot)",1):(ct._wD(o+"Already playing (one-shot)",1),h=p)),null!==h)return h;if(e.url&&e.url!==p.url&&p.load(p._iO),p.loaded?ct._wD(o):0===p.readyState?(ct._wD(o+"Attempting to load"),p.isHTML5?p.load(p._iO):(p._iO.autoPlay=!0,p.load(p._iO)),p.instanceOptions=p._iO):2===p.readyState?(ct._wD(o+"Could not load - exiting",2),h=p):ct._wD(o+"Loading - attempting to play..."),null!==h)return h;if(!p.isHTML5&&9===f&&p.position>0&&p.position===p.duration&&(ct._wD(o+"Sound at end, resetting to position:0"),e.position=0),p.paused&&p.position>=0&&(!p._iO.serverURL||p.position>0))ct._wD(o+"Resuming from paused state",1),p.resume();else{if(p._iO=m(e,p._iO),null!==p._iO.from&&null!==p._iO.to&&0===p.instanceCount&&0===p.playState&&!p._iO.serverURL){if(l=function(){p._iO=m(e,p._iO),p.play(p._iO)},p.isHTML5&&!p._html5_canplay?(ct._wD(o+"Beginning load for from/to case"),p.load({oncanplay:l}),h=!1):p.isHTML5||p.loaded||p.readyState&&2===p.readyState||(ct._wD(o+"Preloading for from/to case"),p.load({onload:l}),h=!1),null!==h)return h;p._iO=u()}ct._wD(o+"Starting to play"),(!p.instanceCount||p._iO.multiShotEvents||!p.isHTML5&&f>8&&!p.getAutoPlay())&&p.instanceCount++,p._iO.onposition&&0===p.playState&&r(p),p.playState=1,p.paused=!1,p.position=p._iO.position===t||isNaN(p._iO.position)?0:p._iO.position,p.isHTML5||(p._iO=Q(V(p._iO))),p._iO.onplay&&n&&(p._iO.onplay.apply(p),_=!0),p.setVolume(p._iO.volume,!0),p.setPan(p._iO.pan,!0),p.isHTML5?(s(),a=p._setup_html5(),p.setPosition(p._iO.position),a.play()):(d=mt._start(p.id,p._iO.loops||1,9===f?p._iO.position:p._iO.position/1e3,p._iO.multiShot),9!==f||d||(ct._wD(o+"No sound hardware, or 32-sound ceiling hit"),p._iO.onplayerror&&p._iO.onplayerror.apply(p)))}return p},this.start=this.play,this.stop=function(e){var t,n=p._iO;return 1===p.playState&&(ct._wD(p.id+": stop()"),p._onbufferchange(0),p._resetOnPosition(0),p.paused=!1,p.isHTML5||(p.playState=0),l(),n.to&&p.clearOnPosition(n.to),p.isHTML5?p._a&&(t=p.position,p.setPosition(0),p.position=t,p._a.pause(),p.playState=0,p._onTimer(),a()):(mt._stop(p.id,e),n.serverURL&&p.unload()),p.instanceCount=0,p._iO={},n.onstop&&n.onstop.apply(p)),p},this.setAutoPlay=function(e){ct._wD(p.id+": Autoplay turned "+(e?"on":"off")),p._iO.autoPlay=e,p.isHTML5||(mt._setAutoPlay(p.id,e),e&&(p.instanceCount||1!==p.readyState||(p.instanceCount++,ct._wD(p.id+": Incremented instance count to "+p.instanceCount))))},this.getAutoPlay=function(){return p._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n,o,i,a=p.isHTML5?Math.max(e,0):Math.min(p.duration||p._iO.duration,Math.max(e,0));if(n=p.position,p.position=a,i=p.position/1e3,p._resetOnPosition(p.position),p._iO.position=a,p.isHTML5){if(p._a)if(p._html5_canplay){if(p._a.currentTime!==i){ct._wD(p.id+": setPosition("+i+")");try{p._a.currentTime=i,(0===p.playState||p.paused)&&p._a.pause()}catch(s){ct._wD(p.id+": setPosition("+i+") failed: "+s.message,2)}}}else ct._wD(p.id+": setPosition("+i+"): Cannot seek yet, sound not ready")}else o=9===f?p.position:i,p.readyState&&2!==p.readyState&&mt._setPosition(p.id,o,p.paused||!p.playState,p._iO.multiShot);return p.isHTML5&&p.paused&&p._onTimer(!0),p},this.pause=function(e){return p.paused||0===p.playState&&1!==p.readyState?p:(ct._wD(p.id+": pause()"),p.paused=!0,p.isHTML5?(p._setup_html5().pause(),a()):(e||e===t)&&mt._pause(p.id,p._iO.multiShot),p._iO.onpause&&p._iO.onpause.apply(p),p)},this.resume=function(){var e=p._iO;return p.paused?(ct._wD(p.id+": resume()"),p.paused=!1,p.playState=1,p.isHTML5?(p._setup_html5().play(),s()):(e.isMovieStar&&!e.serverURL&&p.setPosition(p.position),mt._pause(p.id,e.multiShot)),!_&&e.onplay?(e.onplay.apply(p),_=!0):e.onresume&&e.onresume.apply(p),p):p},this.togglePause=function(){return ct._wD(p.id+": togglePause()"),0===p.playState?(p.play({position:9!==f||p.isHTML5?p.position/1e3:p.position}),p):(p.paused?p.resume():p.pause(),p)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),p.isHTML5||mt._setPan(p.id,e),p._iO.pan=e,n||(p.pan=e,p.options.pan=e),p},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),p.isHTML5?p._a&&(p._a.volume=Math.max(0,Math.min(1,e/100))):mt._setVolume(p.id,ct.muted&&!p.muted||p.muted?0:e),p._iO.volume=e,n||(p.volume=e,p.options.volume=e),p},this.mute=function(){return p.muted=!0,p.isHTML5?p._a&&(p._a.muted=!0):mt._setVolume(p.id,0),p},this.unmute=function(){p.muted=!1;var e=p._iO.volume!==t;return p.isHTML5?p._a&&(p._a.muted=!1):mt._setVolume(p.id,e?p._iO.volume:p.options.volume),p},this.toggleMute=function(){return p.muted?p.unmute():p.mute()},this.onPosition=function(e,n,o){return g.push({position:parseInt(e,10),method:n,scope:o!==t?o:p,fired:!1}),p},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<g.length;n++)e===g[n].position&&(t&&t!==g[n].method||(g[n].fired&&y--,g.splice(n,1)))},this._processOnPosition=function(){var e,t,n=g.length;if(!n||!p.playState||y>=n)return!1;for(e=n-1;e>=0;e--)t=g[e],!t.fired&&p.position>=t.position&&(t.fired=!0,y++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,n,o=g.length;if(!o)return!1;for(t=o-1;t>=0;t--)n=g[t],n.fired&&e<=n.position&&(n.fired=!1,y--);return!0},u=function(){var e,t,n=p._iO,o=n.from,i=n.to;return t=function(){ct._wD(p.id+': "To" time of '+i+" reached."),p.clearOnPosition(i,t),p.stop()},e=function(){ct._wD(p.id+': Playing "from" '+o),null===i||isNaN(i)||p.onPosition(i,t)},null===o||isNaN(o)||(n.position=o,n.multiShot=!1,e()),n},r=function(){var e,t=p._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&p.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=p._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&p.clearOnPosition(parseInt(e,10))},s=function(){p.isHTML5&&J(p)},a=function(){p.isHTML5&&X(p)},n=function(e){e||(g=[],y=0),_=!1,p._hasTimer=null,p._a=null,p._html5_canplay=!1,p.bytesLoaded=null,p.bytesTotal=null,p.duration=p._iO&&p._iO.duration?p._iO.duration:null,p.durationEstimate=null,p.buffered=[],p.eqData=[],p.eqData.left=[],p.eqData.right=[],p.failures=0,p.isBuffering=!1,p.instanceOptions={},p.instanceCount=0,p.loaded=!1,p.metadata={},p.readyState=0,p.muted=!1,p.paused=!1,p.peakData={left:0,right:0},p.waveformData={left:[],right:[]},p.playState=0,p.position=null,p.id3={}},n(),this._onTimer=function(e){var t,n,o=!1,i={};return p._hasTimer||e?(p._a&&(e||(p.playState>0||1===p.readyState)&&!p.paused)&&(t=p._get_html5_duration(),t!==d.duration&&(d.duration=t,p.duration=t,o=!0),p.durationEstimate=p.duration,n=1e3*p._a.currentTime||0,n!==d.time&&(d.time=n,o=!0),(o||e)&&p._whileplaying(n,i,i,i,i)),o):void 0},this._get_html5_duration=function(){var e=p._iO,t=p._a&&p._a.duration?1e3*p._a.duration:e&&e.duration?e.duration:null,n=t&&!isNaN(t)&&1/0!==t?t:null;return n},this._apply_loop=function(e,t){!e.loop&&t>1&&ct._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,i=m(p._iO,e),a=decodeURI,s=Wt?pt:p._a,r=a(i.url);if(Wt?r===st&&(t=!0):r===w&&(t=!0),s){if(s._s)if(Wt)s._s&&s._s.playState&&!t&&s._s.stop();else if(!Wt&&r===a(w))return p._apply_loop(s,i.loops),s;t||(n(!1),s.src=i.url,p.url=i.url,w=i.url,st=i.url,s._called_load=!1)}else p._a=i.autoLoad||i.autoPlay?new Audio(i.url):Kt&&opera.version()<10?new Audio(null):new Audio,s=p._a,s._called_load=!1,Wt&&(pt=s);return p.isHTML5=!0,p._a=s,s._s=p,o(),p._apply_loop(s,i.loops),i.autoLoad||i.autoPlay?p.load():(s.autobuffer=!1,s.preload="auto"),s},o=function(){function e(e,t,n){return p._a?p._a.addEventListener(e,t,n||!1):null}if(p._a._added_events)return!1;var t;p._a._added_events=!0;for(t in dt)dt.hasOwnProperty(t)&&e(t,dt[t]);return!0},i=function(){function e(e,t,n){return p._a?p._a.removeEventListener(e,t,n||!1):null}var t;ct._wD(p.id+": Removing event listeners"),p._a._added_events=!1;for(t in dt)dt.hasOwnProperty(t)&&e(t,dt[t])},this._onload=function(e){var t,n=!!e||!p.isHTML5&&8===f&&p.duration;return t=p.id+": ",ct._wD(t+(n?"onload()":"Failed to load? - "+p.url),n?1:2),n||p.isHTML5||(ct.sandbox.noRemote===!0&&ct._wD(t+U("noNet"),1),ct.sandbox.noLocal===!0&&ct._wD(t+U("noLocal"),1)),p.loaded=n,p.readyState=n?3:2,p._onbufferchange(0),p._iO.onload&&p._iO.onload.apply(p,[n]),!0},this._onbufferchange=function(e){return 0===p.playState?!1:e&&p.isBuffering||!e&&!p.isBuffering?!1:(p.isBuffering=1===e,p._iO.onbufferchange&&(ct._wD(p.id+": Buffer state change: "+e),p._iO.onbufferchange.apply(p)),!0)},this._onsuspend=function(){return p._iO.onsuspend&&(ct._wD(p.id+": Playback suspended"),p._iO.onsuspend.apply(p)),!0},this._onfailure=function(e,t,n){p.failures++,ct._wD(p.id+": Failures = "+p.failures),p._iO.onfailure&&1===p.failures?p._iO.onfailure(p,e,t,n):ct._wD(p.id+": Ignoring failure")},this._onfinish=function(){var e=p._iO.onfinish;p._onbufferchange(0),p._resetOnPosition(0),p.instanceCount&&(p.instanceCount--,p.instanceCount||(l(),p.playState=0,p.paused=!1,p.instanceCount=0,p.instanceOptions={},p._iO={},a(),p.isHTML5&&(p.position=0)),(!p.instanceCount||p._iO.multiShotEvents)&&e&&(ct._wD(p.id+": onfinish()"),e.apply(p)))},this._whileloading=function(e,t,n,o){var i=p._iO;p.bytesLoaded=e,p.bytesTotal=t,p.duration=Math.floor(n),p.bufferLength=o,p.durationEstimate=p.isHTML5||i.isMovieStar?p.duration:i.duration?p.duration>i.duration?p.duration:i.duration:parseInt(p.bytesTotal/p.bytesLoaded*p.duration,10),p.isHTML5||(p.buffered=[{start:0,end:p.duration}]),(3!==p.readyState||p.isHTML5)&&i.whileloading&&i.whileloading.apply(p)},this._whileplaying=function(e,n,o,i,a){var s,r=p._iO;return isNaN(e)||null===e?!1:(p.position=Math.max(0,e),p._processOnPosition(),!p.isHTML5&&f>8&&(r.usePeakData&&n!==t&&n&&(p.peakData={left:n.leftPeak,right:n.rightPeak}),r.useWaveformData&&o!==t&&o&&(p.waveformData={left:o.split(","),right:i.split(",")}),r.useEQData&&a!==t&&a&&a.leftEQ&&(s=a.leftEQ.split(","),p.eqData=s,p.eqData.left=s,a.rightEQ!==t&&a.rightEQ&&(p.eqData.right=a.rightEQ.split(",")))),1===p.playState&&(p.isHTML5||8!==f||p.position||!p.isBuffering||p._onbufferchange(0),r.whileplaying&&r.whileplaying.apply(p)),!0)},this._oncaptiondata=function(e){ct._wD(p.id+": Caption data received."),p.captiondata=e,p._iO.oncaptiondata&&p._iO.oncaptiondata.apply(p,[e])},this._onmetadata=function(e,t){ct._wD(p.id+": Metadata received.");var n,o,i={};for(n=0,o=e.length;o>n;n++)i[e[n]]=t[n];p.metadata=i,p._iO.onmetadata&&p._iO.onmetadata.apply(p)},this._onid3=function(e,t){ct._wD(p.id+": ID3 data received.");var n,o,i=[];for(n=0,o=e.length;o>n;n++)i[e[n]]=t[n];p.id3=m(p.id3,i),p._iO.onid3&&p._iO.onid3.apply(p)},this._onconnect=function(e){e=1===e,ct._wD(p.id+": "+(e?"Connected.":"Failed to connect? - "+p.url),e?1:2),p.connected=e,e&&(p.failures=0,K(p.id)&&(p.getAutoPlay()?p.play(t,p.getAutoPlay()):p._iO.autoLoad&&p.load()),p._iO.onconnect&&p._iO.onconnect.apply(p,[e]))},this._ondataerror=function(e){p.playState>0&&(ct._wD(p.id+": Data error: "+e),p._iO.ondataerror&&p._iO.ondataerror.apply(p))},this._debug()},H=function(){return bt.body||bt._docElement||bt.getElementsByTagName("div")[0]},r=function(e){return bt.getElementById(e)},m=function(e,n){var o,i,a=e||{};o=n===t?ct.defaultOptions:n;for(i in o)o.hasOwnProperty(i)&&a[i]===t&&(a[i]="object"!=typeof o[i]||null===o[i]?o[i]:m(a[i],o[i]));return a},g={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},_=function(e,n){var o,i=!0,a=n!==t,s=ct.setupOptions,r=g;if(e===t){i=[];for(o in s)s.hasOwnProperty(o)&&i.push(o);for(o in r)r.hasOwnProperty(o)&&("object"==typeof ct[o]?i.push(o+": {...}"):ct[o]instanceof Function?i.push(o+": function() {...}"):i.push(o));return ct._wD(U("setup",i.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)a&&r[n]!==t?ct[n][o]=e[o]:s[o]!==t?(ct.setupOptions[o]=e[o],ct[o]=e[o]):r[o]===t?($(U(ct[o]===t?"setupUndef":"setupError",o),2),i=!1):ct[o]instanceof Function?ct[o].apply(ct,e[o]instanceof Array?e[o]:[e[o]]):ct[o]=e[o];else{if(r[o]!==t)return _(e[o],o);$(U(ct[o]===t?"setupUndef":"setupError",o),2),i=!1}return i},at=function(){function t(e){var t=Bt.call(e),n=t.length;return a?(t[1]="on"+t[1],n>3&&t.pop()):3===n&&t.push(!1),t}function n(e,t){var n=e.shift(),o=[s[t]];a?n[o](e[0],e[1]):n[o].apply(n,e)}function o(){n(t(arguments),"add")}function i(){n(t(arguments),"remove")}var a=e.attachEvent,s={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:o,remove:i}}(),dt={abort:a(function(){ct._wD(this._s.id+": abort")}),canplay:a(function(){var e,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,ct._wD(n.id+": canplay"),n._onbufferchange(0),e=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/1e3,n.position&&this.currentTime!==e){ct._wD(n.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(o){ct._wD(n.id+": canplay: Setting position of "+e+" failed: "+o.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:a(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:a(function(){var e=this._s;ct._wD(e.id+": ended"),e._onfinish()}),error:a(function(){ct._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:a(function(){var e=this._s;ct._wD(e.id+": loadeddata"),e._loaded||$t||(e.duration=e._get_html5_duration())}),loadedmetadata:a(function(){ct._wD(this._s.id+": loadedmetadata")}),loadstart:a(function(){ct._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:a(function(){ct._wD(this._s.id+": play()"),this._s._onbufferchange(0)}),playing:a(function(){ct._wD(this._s.id+": playing"),this._s._onbufferchange(0)}),progress:a(function(e){var t,n,o,i=this._s,a=0,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1,d=1e3;if(i.buffered=[],r&&r.length){for(t=0,n=r.length;n>t;t++)i.buffered.push({start:r.start(t)*d,end:r.end(t)*d});if(a=(r.end(0)-r.start(0))*d,l=a/(e.target.duration*d),s&&r.length>1){for(o=[],n=r.length,t=0;n>t;t++)o.push(e.target.buffered.start(t)*d+"-"+e.target.buffered.end(t)*d);ct._wD(this._s.id+": progress, timeRanges: "+o.join(", "))}s&&!isNaN(l)&&ct._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(i._onbufferchange(0),i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&dt.canplaythrough.call(this,e))}),ratechange:a(function(){ct._wD(this._s.id+": ratechange")}),suspend:a(function(e){var t=this._s;ct._wD(this._s.id+": suspend"),dt.progress.call(this,e),t._onsuspend()}),stalled:a(function(){ct._wD(this._s.id+": stalled")}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var e=this._s;ct._wD(this._s.id+": waiting"),e._onbufferchange(1)})},Z=function(e){var t;return t=e.serverURL||e.type&&i(e.type)?!1:e.type?et({type:e.type}):et({url:e.url})||ct.html5Only},nt=function(e,t){e&&(e.src=t,e._called_load=!1),Wt&&(st=null)},et=function(e){if(!ct.useHTML5Audio||!ct.hasHTML5)return!1;var n,o,a,s,r=e.url||null,l=e.type||null,u=ct.audioFormats;if(l&&ct.html5[l]!==t)return ct.html5[l]&&!i(l);if(!tt){tt=[];for(s in u)u.hasOwnProperty(s)&&(tt.push(s),u[s].related&&(tt=tt.concat(u[s].related)));tt=new RegExp("\\.("+tt.join("|")+")(\\?.*)?$","i")}return a=r?r.toLowerCase().match(tt):null,a&&a.length?a=a[1]:l?(o=l.indexOf(";"),a=(-1!==o?l.substr(0,o):l).substr(6)):n=!1,a&&ct.html5[a]!==t?n=ct.html5[a]&&!i(a):(l="audio/"+a,n=ct.html5.canPlayType({type:l}),ct.html5[a]=n,n=n&&ct.html5[l]&&!i(l)),n},it=function(){function e(e){var t,n,o,i=!1,a=!1;if(!s||"function"!=typeof s.canPlayType)return i;if(e instanceof Array){for(n=0,o=e.length;o>n;n++)(ct.html5[e[n]]||s.canPlayType(e[n]).match(ct.html5Test))&&(a=!0,ct.html5[e[n]]=!0,ct.flash[e[n]]=!!e[n].match(en));i=a}else t=s&&"function"==typeof s.canPlayType?s.canPlayType(e):!1,i=!(!t||!t.match(ct.html5Test));return i}if(!ct.useHTML5Audio||!ct.hasHTML5)return!1;var n,o,i,a,s=Audio!==t?Kt&&opera.version()<10?new Audio(null):new Audio:null,r={};i=ct.audioFormats;for(n in i)if(i.hasOwnProperty(n)&&(o="audio/"+n,r[n]=e(i[n].type),r[o]=r[n],n.match(en)?(ct.flash[n]=!0,ct.flash[o]=!0):(ct.flash[n]=!1,ct.flash[o]=!1),i[n]&&i[n].related))for(a=i[n].related.length-1;a>=0;a--)r["audio/"+i[n].related[a]]=r[n],ct.html5[i[n].related[a]]=r[n],ct.flash[i[n].related[a]]=r[n];return r.canPlayType=s?e:null,ct.html5=m(ct.html5,r),!0},L={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:_t+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:gt+"Verify that %s is a valid path.",tryDebug:"Try "+_t+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:gt+"Non-HTTP page ("+bt.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:gt+"Special case: Waiting for SWF to load with window focus...",waitForever:gt+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:gt+"Waiting for 100% SWF load...",needFunction:gt+"Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:gt+"_debug(): Current sound objects",waitOnload:gt+"Waiting for window.onload()",docLoaded:gt+"Document already loaded",onload:gt+"initComplete(): calling soundManager.onload()",onloadOK:_t+".onload() complete",didInit:gt+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:gt+"Failed to remove Flash node.",shutdown:_t+".disable(): Shutting down",queue:gt+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+j.swfTimedout+" CSS...",fbLoaded:"Flash loaded",flRemoved:gt+"Flash movie removed.",fbHandler:gt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:_t+".load(): current URL already assigned.",badFV:_t+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:gt+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:gt+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:_t+".setup(): allowed parameters: %s",setupError:_t+'.setup(): "%s" cannot be assigned with this method.',setupUndef:_t+'.setup(): Could not find option "%s"',setupLate:_t+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:gt+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:_t+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},U=function(){var e,t,n=Bt.call(arguments),o=n.shift(),i=L&&L[o]?L[o]:"";if(i&&n&&n.length)for(e=0,t=n.length;t>e;e++)i=i.replace("%s",n[e]);return i
},V=function(e){return 8===f&&e.loops>1&&e.stream&&(c("as2loop"),e.stream=!1),e},Q=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(ct._wD((t||"")+U("policy")),e.usePolicyFile=!0),e},$=function(e){console!==t&&console.warn!==t?console.warn(e):ct._wD(e)},l=function(){return!1},R=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l);t=null},N=function(e){e===t&&(e=!1),(Tt||e)&&ct.disable(e)},x=function(e){var t,n=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(n=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+ct.movieURL,ct.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},D=function(){f=parseInt(ct.flashVersion,10),8!==f&&9!==f&&(ct._wD(U("badFV",f,Ht)),ct.flashVersion=f=Ht);var e=ct.debugMode||ct.debugFlash?"_debug.swf":".swf";ct.useHTML5Audio&&!ct.html5Only&&ct.audioFormats.mp4.required&&9>f&&(ct._wD(U("needfl9")),ct.flashVersion=f=9),ct.version=ct.versionNumber+(ct.html5Only?" (HTML5-only mode)":9===f?" (AS3/Flash 9)":" (AS2/Flash 8)"),f>8?(ct.defaultOptions=m(ct.defaultOptions,ct.flash9Options),ct.features.buffering=!0,ct.defaultOptions=m(ct.defaultOptions,ct.movieStarOptions),ct.filePatterns.flash9=new RegExp("\\.(mp3|"+sn.join("|")+")(\\?.*)?$","i"),ct.features.movieStar=!0):ct.features.movieStar=!1,ct.filePattern=ct.filePatterns[8!==f?"flash9":"flash8"],ct.movieURL=(8===f?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),ct.features.peakData=ct.features.waveformData=ct.features.eqData=f>8},k=function(e,t){return mt?(mt._setPolling(e,t),void 0):!1},C=function(){if(ct.debugURLParam.test(vt)&&(ct.debugMode=!0),r(ct.debugID))return!1;var e,t,n,o,i;if(!(!ct.debugMode||r(ct.debugID)||zt&&ct.useConsole&&ct.consoleOnly)){e=bt.createElement("div"),e.id=ct.debugID+"-toggle",o={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(bt.createTextNode("-")),e.onclick=q,e.title="Toggle SM2 debug console",wt.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(i in o)o.hasOwnProperty(i)&&(e.style[i]=o[i]);if(t=bt.createElement("div"),t.id=ct.debugID,t.style.display=ct.debugMode?"block":"none",ct.debugMode&&!r(e.id)){try{n=H(),n.appendChild(e)}catch(a){throw new Error(U("domError")+" \n"+a.toString())}n.appendChild(t)}}n=null},K=this.getSoundById,c=function(e,t){return e?ct._wD(U(e),t):""},q=function(){var e=r(ct.debugID),t=r(ct.debugID+"-toggle");return e?(Dt?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Dt=!Dt,void 0):!1},h=function(n,o,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,o,i)}catch(a){}return!0},W=function(){var e=[];return ct.debugMode&&e.push(j.sm2Debug),ct.debugFlash&&e.push(j.flashDebug),ct.useHighPerformance&&e.push(j.highPerf),e.join(" ")},B=function(){var e=U("fbHandler"),t=ct.getMoviePercent(),n=j,o={type:"FLASHBLOCK"};return ct.html5Only?!1:(ct.ok()?(ct.didFlashBlock&&ct._wD(e+": Unblocked"),ct.oMC&&(ct.oMC.className=[W(),n.swfDefault,n.swfLoaded+(ct.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Ut&&(ct.oMC.className=W()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),ct._wD(e+": "+U("fbTimeout")+(t?" ("+U("fbLoaded")+")":""))),ct.didFlashBlock=!0,w({type:"ontimeout",ignoreInit:!0,error:o}),E(o)),void 0)},y=function(e,n,o){Ot[e]===t&&(Ot[e]=[]),Ot[e].push({method:n,scope:o||null,fired:!1})},w=function(e){if(e||(e={type:ct.ok()?"onready":"ontimeout"}),!Pt&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(ct.ok()||Tt&&!e.ignoreInit))return!1;var t,n,o={success:e&&e.ignoreInit?ct.ok():!Tt},i=e&&e.type?Ot[e.type]||[]:[],a=[],s=[o],r=Ut&&!ct.ok();for(e.error&&(s[0].error=e.error),t=0,n=i.length;n>t;t++)i[t].fired!==!0&&a.push(i[t]);if(a.length)for(t=0,n=a.length;n>t;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},v=function(){e.setTimeout(function(){ct.useFlashBlock&&B(),w(),"function"==typeof ct.onload&&(c("onload",1),ct.onload.apply(e),c("onloadOK",1)),ct.waitForWindowLoad&&at.add(e,"load",v)},1)},lt=function(){if(rt!==t)return rt;var n,o,i,a=!1,s=navigator,r=s.plugins,l=e.ActiveXObject;if(r&&r.length)o="application/x-shockwave-flash",i=s.mimeTypes,i&&i[o]&&i[o].enabledPlugin&&i[o].enabledPlugin.description&&(a=!0);else if(l!==t&&!wt.match(/MSAppHost/i)){try{n=new l("ShockwaveFlash.ShockwaveFlash")}catch(u){}a=!!n,n=null}return rt=a,a},Y=function(){var e,t,n=!0,o=ct.audioFormats,i=jt&&!!wt.match(/os (1|2|3_0|3_1)/i);if(i?(ct.hasHTML5=!1,ct.html5Only=!0,ct.oMC&&(ct.oMC.style.display="none"),n=!1):ct.useHTML5Audio&&(ct.html5&&ct.html5.canPlayType||(ct._wD("SoundManager: No HTML5 Audio() support detected."),ct.hasHTML5=!1),Xt&&ct._wD(gt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(rt?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),ct.useHTML5Audio&&ct.hasHTML5)for(t in o)o.hasOwnProperty(t)&&(o[t].required&&!ct.html5.canPlayType(o[t].type)||ct.preferFlash&&(ct.flash[t]||ct.flash[o[t].type]))&&(e=!0);return ct.ignoreFlash&&(e=!1),ct.html5Only=ct.hasHTML5&&ct.useHTML5Audio&&!e,!ct.html5Only},G=function(e){var t,n,o,i=0;if(e instanceof Array){for(t=0,n=e.length;n>t;t++)if(e[t]instanceof Object){if(ct.canPlayMIME(e[t].type)){i=t;break}}else if(ct.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),o=e[i]}else o=e;return o},J=function(t){t._hasTimer||(t._hasTimer=!0,!Jt&&ct.html5PollingInterval&&(null===Nt&&0===Rt&&(Nt=e.setInterval(z,ct.html5PollingInterval)),Rt++))},X=function(e){e._hasTimer&&(e._hasTimer=!1,!Jt&&ct.html5PollingInterval&&Rt--)},z=function(){var t;if(null!==Nt&&!Rt)return e.clearInterval(Nt),Nt=null,!1;for(t=ct.soundIDs.length-1;t>=0;t--)ct.sounds[ct.soundIDs[t]].isHTML5&&ct.sounds[ct.soundIDs[t]]._hasTimer&&ct.sounds[ct.soundIDs[t]]._onTimer()},E=function(n){n=n!==t?n:{},"function"==typeof ct.onerror&&ct.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&ct.disable()},ut=function(){if(!Xt||!lt())return!1;var e,t,n=ct.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(ct._wD(_t+": Using flash fallback for "+t+" format"),ct.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)ct.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var n=ct.sandbox;n.type=e,n.description=n.types[n.types[e]!==t?e:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1,c("secNote",2)):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(e,t){if(ct.swfLoaded)return!1;var n;return h("swf",!0),h("flashtojs",!0),ct.swfLoaded=!0,Yt=!1,Xt&&ut(),t&&t.replace(/\+dev/i,"")===ct.versionNumber.replace(/\+dev/i,"")?(setTimeout(d,Vt?100:1),void 0):(n=_t+': Fatal: JavaScript file build "'+ct.versionNumber+'" does not match Flash SWF build "'+t+'" at '+ct.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(n)},0),!1)},A=function(e,n){function o(){var e,t=[],n=[],o=" + ";e="SoundManager "+ct.version+(!ct.html5Only&&ct.useHTML5Audio?ct.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),ct.html5Only?ct.html5PollingInterval&&t.push("html5PollingInterval ("+ct.html5PollingInterval+"ms)"):(ct.preferFlash&&t.push("preferFlash"),ct.useHighPerformance&&t.push("useHighPerformance"),ct.flashPollingInterval&&t.push("flashPollingInterval ("+ct.flashPollingInterval+"ms)"),ct.html5PollingInterval&&t.push("html5PollingInterval ("+ct.html5PollingInterval+"ms)"),ct.wmode&&t.push("wmode ("+ct.wmode+")"),ct.debugFlash&&t.push("debugFlash"),ct.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(o)])),ct._wD(e+(n.length?o+n.join(", "):""),1),ft()}function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(Mt&&Lt)return!1;if(ct.html5Only)return D(),o(),ct.oMC=r(ct.movieID),d(),Mt=!0,Lt=!0,!1;var a,s,l,u,f,h,c,p,m=n||ct.url,_=ct.altURL||m,g="JS/Flash audio component (SoundManager 2)",y=H(),w=W(),v=null,b=bt.getElementsByTagName("html")[0];if(v=b&&b.dir&&b.dir.match(/rtl/i),e=e===t?ct.id:e,D(),ct.url=x(nn?m:_),n=ct.url,ct.wmode=!ct.wmode&&ct.useHighPerformance?"transparent":ct.wmode,null!==ct.wmode&&(wt.match(/msie 8/i)||!Vt&&!ct.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(xt.push(L.spcWmode),ct.wmode=null),a={name:e,id:e,src:n,quality:"high",allowScriptAccess:ct.allowScriptAccess,bgcolor:ct.bgColor,pluginspage:on+"www.macromedia.com/go/getflashplayer",title:g,type:"application/x-shockwave-flash",wmode:ct.wmode,hasPriority:"true"},ct.debugFlash&&(a.FlashVars="debug=1"),ct.wmode||delete a.wmode,Vt)s=bt.createElement("div"),u=['<object id="'+e+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+on+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",ct.allowScriptAccess),i("quality",a.quality),ct.wmode?i("wmode",ct.wmode):"",i("bgcolor",ct.bgColor),i("hasPriority","true"),ct.debugFlash?i("FlashVars",a.FlashVars):"","</object>"].join("");else{s=bt.createElement("embed");for(l in a)a.hasOwnProperty(l)&&s.setAttribute(l,a[l])}if(C(),w=W(),y=H())if(ct.oMC=r(ct.movieID)||bt.createElement("div"),ct.oMC.id)p=ct.oMC.className,ct.oMC.className=(p?p+" ":j.swfDefault)+(w?" "+w:""),ct.oMC.appendChild(s),Vt&&(f=ct.oMC.appendChild(bt.createElement("div")),f.className=j.swfBox,f.innerHTML=u),Lt=!0;else{if(ct.oMC.id=ct.movieID,ct.oMC.className=j.swfDefault+" "+w,h=null,f=null,ct.useFlashBlock||(ct.useHighPerformance?h={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(h={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},v&&(h.left=Math.abs(parseInt(h.left,10))+"px"))),Qt&&(ct.oMC.style.zIndex=1e4),!ct.debugFlash)for(c in h)h.hasOwnProperty(c)&&(ct.oMC.style[c]=h[c]);try{Vt||ct.oMC.appendChild(s),y.appendChild(ct.oMC),Vt&&(f=ct.oMC.appendChild(bt.createElement("div")),f.className=j.swfBox,f.innerHTML=u),Lt=!0}catch(O){throw new Error(U("domError")+" \n"+O.toString())}}return Mt=!0,o(),!0},P=function(){return ct.html5Only?(A(),!1):mt?!1:ct.url?(mt=ct.getMovie(ct.id),mt||(At?(Vt?ct.oMC.innerHTML=Et:ct.oMC.appendChild(At),At=null,Mt=!0):A(ct.id,ct.url),mt=ct.getMovie(ct.id)),"function"==typeof ct.oninitmovie&&setTimeout(ct.oninitmovie,1),ht(),!0):(c("noURL"),!1)},b=function(){setTimeout(O,1e3)},O=function(){var t,n=!1;return ct.url?kt?!1:(kt=!0,at.remove(e,"load",b),Yt&&!Gt?(c("waitFocus"),!1):(Pt||(t=ct.getMoviePercent(),t>0&&100>t&&(n=!0)),setTimeout(function(){return t=ct.getMoviePercent(),n?(kt=!1,ct._wD(U("waitSWF")),e.setTimeout(b,1),!1):(Pt||(ct._wD(_t+": No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(ct.debugFlash?" "+U("checkSWF"):""),2),!nn&&t&&(c("localFail",2),ct.debugFlash||c("tryDebug",2)),0===t&&ct._wD(U("swf404",ct.url),1),h("flashtojs",!1," (Check flash security or flash blockers)")),!Pt&&Zt&&(null===t?ct.useFlashBlock||0===ct.flashLoadTimeout?(ct.useFlashBlock&&B(),c("waitForever")):(c("waitForever"),w({type:"ontimeout",ignoreInit:!0})):0===ct.flashLoadTimeout?c("waitForever"):N(!0)),void 0)},ct.flashLoadTimeout),void 0)):!1},M=function(){function t(){at.remove(e,"focus",M)}return Gt||!Yt?(t(),!0):(Zt=!0,Gt=!0,c("gotFocus"),kt=!1,b(),t(),!0)},ht=function(){xt.length&&(ct._wD("SoundManager 2: "+xt.join(" "),1),xt=[])},ft=function(){ht();var e,t=[];if(ct.useHTML5Audio&&ct.hasHTML5){for(e in ct.audioFormats)ct.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+ct.html5[e]+(!ct.html5[e]&&rt&&ct.flash[e]?" (using flash)":ct.preferFlash&&ct.flash[e]&&rt?" (preferring flash)":ct.html5[e]?"":" ("+(ct.audioFormats[e].required?"required, ":"")+"and no flash support)"));ct._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},p=function(t){if(Pt)return!1;if(ct.html5Only)return c("sm2Loaded"),Pt=!0,v(),h("onload",!0),!0;var n,o=ct.useFlashBlock&&ct.flashLoadTimeout&&!ct.getMoviePercent(),i=!0;return o||(Pt=!0,Tt&&(n={type:!rt&&Ut?"NO_FLASH":"INIT_TIMEOUT"})),ct._wD("SoundManager 2 "+(Tt?"failed to load":"loaded")+" ("+(Tt?"Flash security/load error":"OK")+")",Tt?2:1),Tt||t?(ct.useFlashBlock&&ct.oMC&&(ct.oMC.className=W()+" "+(null===ct.getMoviePercent()?j.swfTimedout:j.swfError)),w({type:"ontimeout",error:n,ignoreInit:!0}),h("onload",!1),E(n),i=!1):h("onload",!0),Tt||(ct.waitForWindowLoad&&!St?(c("waitOnload"),at.add(e,"load",v)):(ct.waitForWindowLoad&&St&&c("docLoaded"),v())),i},u=function(){var e,n=ct.setupOptions;for(e in n)n.hasOwnProperty(e)&&(ct[e]===t?ct[e]=n[e]:ct[e]!==n[e]&&(ct.setupOptions[e]=ct[e]))},d=function(){function t(){at.remove(e,"load",ct.beginDelayedInit)}if(Pt)return c("didInit"),!1;if(ct.html5Only)return Pt||(t(),ct.enabled=!0,p()),!0;P();try{mt._externalInterfaceTest(!1),k(!0,ct.flashPollingInterval||(ct.useHighPerformance?10:50)),ct.debugMode||mt._disableDebug(),ct.enabled=!0,h("jstoflash",!0),ct.html5Only||at.add(e,"unload",l)}catch(n){return ct._wD("js/flash exception: "+n.toString()),h("jstoflash",!1),E({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),N(!0),p(),!1}return p(),t(),!0},S=function(){return I?!1:(I=!0,u(),C(),function(){var n="sm2-usehtml5audio=",o="sm2-preferflash=",i=null,a=null,s=e.console!==t&&"function"==typeof console.log,r=vt.toLowerCase();-1!==r.indexOf(n)&&(i="1"===r.charAt(r.indexOf(n)+n.length),s&&console.log((i?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),ct.setup({useHTML5Audio:i})),-1!==r.indexOf(o)&&(a="1"===r.charAt(r.indexOf(o)+o.length),s&&console.log((a?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),ct.setup({preferFlash:a}))}(),!rt&&ct.hasHTML5&&(ct._wD("SoundManager: No Flash detected"+(ct.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),ct.setup({useHTML5Audio:!0,preferFlash:!1})),it(),ct.html5.usingFlash=Y(),Ut=ct.html5.usingFlash,!rt&&Ut&&(xt.push(L.needFlash),ct.setup({flashLoadTimeout:1})),bt.removeEventListener&&bt.removeEventListener("DOMContentLoaded",S,!1),P(),!0)},ot=function(){return"complete"===bt.readyState&&(S(),bt.detachEvent("onreadystatechange",ot)),!0},F=function(){St=!0,at.remove(e,"load",F)},T=function(){Jt&&((!ct.setupOptions.useHTML5Audio||ct.setupOptions.preferFlash)&&xt.push(L.mobileUA),ct.setupOptions.useHTML5Audio=!0,ct.setupOptions.preferFlash=!1,(jt||qt&&!wt.match(/android\s2\.3/i))&&(xt.push(L.globalHTML5),jt&&(ct.ignoreFlash=!0),Wt=!0))},T(),lt(),at.add(e,"focus",M),at.add(e,"load",b),at.add(e,"load",F),bt.addEventListener?bt.addEventListener("DOMContentLoaded",S,!1):bt.attachEvent?bt.attachEvent("onreadystatechange",ot):(h("onload",!1),E({type:"NO_DOM2_EVENTS",fatal:!0}))}var o=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(o=new n),e.SoundManager=n,e.soundManager=o}(window);